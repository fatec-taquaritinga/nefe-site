!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n,r,o,a,c={},i="querySelector"in document&&"addEventListener"in e,u={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutQuad",offset:40,updateURL:!0,callback:function(){}},s=function(){var e={},t=!1,n=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var o=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t&&"[object Object]"===Object.prototype.toString.call(n[r])?e[r]=s(!0,e[r],n[r]):e[r]=n[r])};n<r;n++)o(arguments[n]);return e};c.escapeCharacters=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),r=n.length,o=-1,a="",c=n.charCodeAt(0);++o<r;){if(0===(t=n.charCodeAt(o)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=1<=t&&t<=31||127==t||0===o&&48<=t&&t<=57||1===o&&48<=t&&t<=57&&45===c?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(o):"\\"+n.charAt(o)}return"#"+a};var l=function(e){return null===e?0:(t=e,Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)+e.offsetTop);var t};c.animateScroll=function(n,c,i){var f,d,h,p=(f=c?c.getAttribute("data-options"):null)&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(f):{},m=s(t||u,i||{},p),g="[object Number]"===Object.prototype.toString.call(n),b=g?null:"#"===n?e.document.documentElement:e.document.querySelector(n);if(g||b){var v=e.pageYOffset;r||(r=e.document.querySelector(m.selectorHeader)),o||(o=l(r));var y,O,S=g?n:function(e,t,n){var r=0;if(e.offsetParent)for(;r+=e.offsetTop,e=e.offsetParent;);return 0<=(r=r-t-n)?r:0}(b,o,parseInt(m.offset,10)),I=S-v,H=Math.max(e.document.body.scrollHeight,e.document.documentElement.scrollHeight,e.document.body.offsetHeight,e.document.documentElement.offsetHeight,e.document.body.clientHeight,e.document.documentElement.clientHeight),E=0;g||(d=n,h=m.updateURL,e.history.pushState&&(h||"true"===h)&&"file:"!==e.location.protocol&&e.history.pushState(null,null,[e.location.protocol,"//",e.location.host,e.location.pathname,e.location.search,d].join("")));var j=function(){var t,r,o,i,u,s,l;y=1<(y=(E+=16)/parseInt(m.speed,10))?1:y,O=v+I*(u=m.easing,s=y,"easeInQuad"===u&&(l=s*s),"easeOutQuad"===u&&(l=s*(2-s)),"easeInOutQuad"===u&&(l=s<.5?2*s*s:(4-2*s)*s-1),"easeInCubic"===u&&(l=s*s*s),"easeOutCubic"===u&&(l=--s*s*s+1),"easeInOutCubic"===u&&(l=s<.5?4*s*s*s:(s-1)*(2*s-2)*(2*s-2)+1),"easeInQuart"===u&&(l=s*s*s*s),"easeOutQuart"===u&&(l=1- --s*s*s*s),"easeInOutQuart"===u&&(l=s<.5?8*s*s*s*s:1-8*--s*s*s*s),"easeInQuint"===u&&(l=s*s*s*s*s),"easeOutQuint"===u&&(l=1+--s*s*s*s*s),"easeInOutQuint"===u&&(l=s<.5?16*s*s*s*s*s:1+16*--s*s*s*s*s),l||s),e.scrollTo(0,Math.floor(O)),t=O,r=S,o=a,i=e.pageYOffset,(t==r||i==r||e.innerHeight+i>=H)&&(clearInterval(o),g||b.focus(),m.callback(n,c))};0===e.pageYOffset&&e.scrollTo(0,0),clearInterval(a),a=setInterval(j,16)}};var f=function(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey){var n=function(e,t){var n,r,o=t.charAt(0),a="classList"in document.documentElement;for("["===o&&1<(n=(t=t.substr(1,t.length-2)).split("=")).length&&(r=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,""));e&&e!==document;e=e.parentNode){if("."===o)if(a){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===o&&e.id===t.substr(1))return e;if("["===o&&e.hasAttribute(n[0])){if(!r)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null}(e.target,t.selector);if(n&&"a"===n.tagName.toLowerCase()){e.preventDefault();var r=c.escapeCharacters(n.hash);c.animateScroll(r,n,t)}}},d=function(e){n||(n=setTimeout(function(){n=null,o=l(r)},66))};return c.destroy=function(){t&&(e.document.removeEventListener("click",f,!1),e.removeEventListener("resize",d,!1),a=o=r=n=t=null)},c.init=function(n){i&&(c.destroy(),t=s(u,n||{}),r=e.document.querySelector(t.selectorHeader),o=l(r),e.document.addEventListener("click",f,!1),r&&e.addEventListener("resize",d,!1))},c});